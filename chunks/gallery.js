(self.webpackChunk=self.webpackChunk||[]).push([[121],{4662:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r(2759),r(895),r(2482),r(911),r(3238);const i={methods:{slugify:function(e){var t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",r=new RegExp(t.split("").join("|"),"g");return encodeURIComponent(e.toString().toLowerCase().replace(/\s+/g,"-").replace(r,(function(e){return"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}}}},2078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y}),r(1418),r(3238),r(5769),r(4078);var i=r(493),a=(r(8010),r(4662));const n={mixins:[a.Z],methods:{prepCategoriesSubPage:function(e){if("category"===this.$route.name){var t=this,r={parent:this.$route.params.parent,child:this.$route.params.child,book:this.$route.params.query},i=_.filter(this.$store.state.library.books,(function(e){if(e.categories){var i=!!e.categories[0]&&t.slugify(e.categories[0].name),a=!!e.categories[1]&&t.slugify(e.categories[1].name);if(i&&a&&r.parent===i&&r.child===a)return!0;if(i&&r.parent===i&&!r.child)return!0}}));if(i&&(r.parent||r.child)){var a=i[0].categories[0]?i[0].categories[0].name:null,n=i[0].categories[1]?i[0].categories[1].name:null;a&&(this.pageTitle=a),a&&(this.pageSubTitle=n)}this.$store.commit("prop",{key:"pageCollection",value:i}),this.collectionSource="pageCollection"}}}};r(2327),r(5623),r(1514),r(5901),r(2189);const o={mixins:[a.Z],methods:{prepCollectionsSubPage:function(e){if("collection"===this.$route.name){var t=this.$route.params.collection,r=_.find(this.$store.state.library.collections,{id:t});if(r){var i=_.filter(this.$store.state.library.books,(function(e){return _.includes(r.books,e.asin)}));(r.title||r.description)&&(r.title&&(this.pageTitle=r.title),r.description&&(this.pageSubTitle=r.description)),this.$store.commit("prop",{key:"pageCollection",value:i}),this.collectionSource="pageCollection"}}}}};r(9217);const s={methods:{prepSeriesSubPage:function(){if("series"===this.$route.name){this.$store.commit("addListRenderingOpts",{listName:"sort",option:{active:!1,current:!1,key:"seriesOrder",label:"Series order",type:"sort",tippy:"The infinite symbol (∞) means the book doesn't have a number"},activate:!this.$route.query.sort||"seriesOrder"===this.$route.query.sort,sortValues:!0,splice:3});var e=this.$route.params.series,t=_.find(this.$store.state.library.series,{asin:e}),r=_.filter(this.$store.state.library.books,(function(e){return _.includes(t.books,e.asin)}));if(r.length>0){var i=_.find(r[0].series,{asin:e});i&&(this.pageTitle=i.name)}this.$store.commit("prop",{key:"pageCollection",value:r}),this.collectionSource="pageCollection"}}}},l={mixins:[a.Z],methods:{prepWishlist:function(e){"wishlist"===this.$route.name&&(this.$store.commit("prop",{key:"pageCollection",value:this.$store.state.library.wishlist}),this.collectionSource="pageCollection")}}};var c=r(3223),u=r(2210);r(1203);const g={methods:{updateListRenderingOptions:function(){var e=this,t={scope:[{active:!0,key:"title"},{active:!0,key:"authors.name"},{active:!0,key:"narrators.name"},{active:!0,key:"series.name"},{active:!1,key:"categories.name"},{active:!1,key:"publishers.name"},{active:!0,key:"blurb"}],filter:[{active:!0,type:"filter",label:"Not started",key:"notStarted",condition:function(e){return!e.progress}},{active:!0,type:"filter",label:"Started",key:"started",condition:function(e){return!(!e.progress||e.progress.toLowerCase().match("finished"))},excludeFromWishlist:!0},{active:!0,type:"filter",label:"Finished",key:"finished",condition:function(e){return!(!e.progress||!e.progress.toLowerCase().match("finished"))},excludeFromWishlist:!0},{active:!1,type:"filterExtras",label:"In series",key:"inseries",group:"filterExtras",condition:function(e){return e.series}},{active:!1,type:"filterExtras",label:"Not in series",key:"not-inseries",group:"filterExtras",condition:function(e){return!e.series}},{type:"divider",key:"divider1.1"},{active:!1,type:"filterExtras",label:"Not from plus catalog",key:"not-from-plus-catalog",group:"filterExtras",condition:function(e){return!e.fromPlusCatalog}},{active:!1,type:"filterExtras",label:"Plus catalog: Available",key:"plus-catalog-available",group:"filterExtras",condition:function(e){return e.fromPlusCatalog&&!e.unavailable},tippy:"It is possible for this status to change after last gallery update..."},{active:!1,type:"filterExtras",label:"Plus catalog: Unavailable",excludeFromWishlist:!0,key:"plus-catalog-unavailable",group:"filterExtras",condition:function(e){return e.fromPlusCatalog&&e.unavailable},tippy:"Books that are from the plus catalog, but they are locked. Conditions: a book left the plus catalog or inactive membership."},{type:"divider",key:"divider1.3"},{active:!1,type:"filterExtras",label:"Store page available",key:"store-page-available",group:"filterExtras",condition:function(e){return!(e.storePageChanged||e.storePageMissing)}},{active:!1,type:"filterExtras",label:"Store page unavailable",key:"store-page-unavailable",group:"filterExtras",condition:function(e){return e.storePageChanged||e.storePageMissing},tippy:"Store page has been removed or changed after it was added."},{type:"divider",key:"divider1.4",excludeFromWishlist:!0},{active:!1,type:"filterExtras",label:"Favorites",key:"favorites",excludeFromWishlist:!0,group:"filterExtras",condition:function(e){return e.favorite}},{active:!1,type:"filterExtras",label:"No rating",excludeFromWishlist:!0,key:"no-rating",group:"filterExtras",condition:function(e){return!e.myRating},tippy:"Books you haven't rated yet."},{active:!1,type:"filterExtras",label:"New books",excludeFromWishlist:!0,key:"new-books",group:"filterExtras",condition:function(e){return e.isNew},tippy:"Most recent additions."},{active:!1,type:"filterExtras",label:"Giftable books",excludeFromWishlist:!0,key:"giftable",group:"filterExtras",condition:function(e){return!(e.fromPlusCatalog||e.unavailable||e.storePageChanged||e.storePageMissing)},tippy:'Excludes all books that are from the plug catalog and books with removed or changed store pages, since those cannot be gifted using the "Send this book" feature.'},{type:"divider",key:"divider2.0"},{active:!1,type:"filterExtras",label:"Length",key:"length",group:"filterExtras",range:!0,rangeMinDist:1,rangeSuffix:"h",rangeMin:function(){return 0},rangeMax:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.maxBy(t,(function(t){return e.timeStringToSeconds(t.length)}));return r?Math.ceil(e.timeStringToSeconds(r.length)/3600):0},condition:function(t){if(t.length){var r=this.range[0],i=this.range[1],a=e.timeStringToSeconds(t.length)/3600;return a>=r&&a<=i}}},{type:"divider",key:"divider2.1"},{active:!1,type:"filterExtras",label:"Narrators",key:"narrators",group:"filterExtras",range:!0,rangeMinDist:0,rangeSuffix:"",rangeMin:function(){return 1},rangeMax:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.maxBy(t,(function(e){return e.narrators?e.narrators.length:0}));return r?r.narrators.length:0},condition:function(e){if(e.narrators){var t=this.range[0],r=this.range[1],i=e.narrators.length;return i>=t&&i<=r}}},{type:"divider",key:"divider3",excludeFromWishlist:!0},{active:!1,type:"filterExtras",excludeFromWishlist:!0,label:"Books in series",key:"booksinseries",group:"filterExtras",range:!0,rangeMinDist:0,rangeSuffix:"",rangeMin:function(){return 1},rangeMax:function(){var t=_.filter(_.get(e.$store.state,e.collectionSource),"series"),r=1;return _.each(t,(function(t){var i=_.maxBy(t.series,(function(t){var r=_.find(e.$store.state.library.series,{asin:t.asin});if(r&&r.books)return r.books.length}));if(i){var a=_.find(e.$store.state.library.series,{asin:i.asin}).books.length;r<a&&(r=a)}})),r},condition:function(t){if(t.series){var r=this.range[0],i=this.range[1],a=!1;return _.each(t.series,(function(t){var n=_.find(e.$store.state.library.series,{asin:t.asin});if(n&&n.books.length>=r&&n.books.length<=i)return a=!0,!1})),a}}},{type:"divider",key:"divider4"},{active:!1,type:"filterExtras",label:"Average rating",key:"rating",group:"filterExtras",range:!0,rangeMinDist:0,rangeSuffix:"",rangeMin:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.minBy(t,(function(e){if(e.rating)return parseFloat(e.rating)}));return r?parseFloat(r.rating):0},rangeMax:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.maxBy(t,(function(e){if(e.rating)return parseFloat(e.rating)}));return r?parseFloat(r.rating):0},condition:function(e){if(e.rating){var t=this.range[0],r=this.range[1],i=parseFloat(e.rating);return i>=t&&i<=r}},rangeInterval:.1},{type:"divider",key:"divider5.2"},{active:!1,type:"filterExtras",label:"Ratings",key:"number-of-ratings",group:"filterExtras",range:!0,rangeMinDist:1,rangeSuffix:"",rangeMin:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.minBy(t,(function(e){if(e.ratings)return parseFloat(e.ratings)}));return r?r.ratings:0},rangeMax:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.maxBy(t,(function(e){if(e.ratings)return parseFloat(e.ratings)}));return r?r.ratings:0},condition:function(e){if(e.ratings){var t=this.range[0],r=this.range[1],i=parseFloat(e.ratings);return i>=t&&i<=r}}},{type:"divider",key:"divider5",excludeFromWishlist:!0},{active:!1,type:"filterExtras",label:"My rating",excludeFromWishlist:!0,key:"myrating",group:"filterExtras",range:!0,rangeMinDist:0,rangeSuffix:"",rangeMin:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.minBy(t,(function(e){if(e.myRating)return parseFloat(e.myRating)}));return r?parseFloat(r.myRating):0},rangeMax:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.maxBy(t,(function(e){if(e.myRating)return parseFloat(e.myRating)}));return r?parseFloat(r.myRating):0},condition:function(e){if(e.myRating){var t=this.range[0],r=this.range[1],i=parseFloat(e.myRating);return i>=t&&i<=r}}},{type:"divider",key:"divider5.1"},{active:!1,type:"filterExtras",label:"Added",key:"added",group:"filterExtras",range:!0,rangeMinDist:1,rangeSuffix:"",rangeMin:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.minBy(t,(function(e){if(e.added)return parseFloat(e.added)}));return r?parseFloat(r.added):0},rangeMax:function(){var t=_.get(e.$store.state,e.collectionSource),r=_.maxBy(t,(function(e){if(e.added)return parseFloat(e.added)}));return r?parseFloat(r.added):0},condition:function(e){if(e.added){var t=this.range[0],r=this.range[1],i=parseFloat(e.added);return i>=t&&i<=r}},rangeInterval:1,tippy:"Low number = old book <br> High number = new book"}],sort:[{active:!1,sticky:!0,key:"sortValues",label:"Show sort values",type:"sortExtras",tippy:"Shows the active sorter's value on top of the cover in the grid view."},{active:!1,key:"randomize",label:"Randomize",type:"sortExtras",tippy:"Sorting is ignored and the order is randomized."},{type:"divider",key:"divider1"},{active:!0,current:!0,key:"added",label:"Added",type:"sort",tippy:'<div style="text-align: left;"><small>&#9650;</small> Old at the top <br><small style="display: inline-block; transform: rotate(180deg);">&#9650;</small> New at the top</div>'},{active:!0,current:!1,key:"title",label:"Title",type:"sort"},{active:!0,current:!1,key:"authors.name",label:"Author",type:"sort"},{active:!0,current:!1,key:"narrators.name",label:"Narrator",type:"sort"},{active:!0,current:!1,key:"narratorsNumber",label:"Number of narrators",type:"sort"},{active:!1,current:!1,key:"length",label:"Length",type:"sort"},{active:!0,current:!1,key:"series",label:"Series",type:"sort",tippy:"Sorts books by the series name alphabetically."},{type:"divider",key:"divider2"},{active:!1,current:!1,key:"releaseDate",label:"Release date",type:"sort"},{active:!1,current:!1,key:"rating",label:"Average rating",type:"sort"},{active:!1,current:!1,key:"ratings",label:"Number of ratings",type:"sort"},{active:!1,current:!1,key:"myRating",label:"My rating",type:"sort",excludeFromWishlist:!0},{active:!0,current:!1,key:"publishers.name",label:"Publishers",type:"sort"},{type:"divider",key:"divider3"},{active:!1,current:!1,key:"progress",label:"Progress",type:"sort",excludeFromWishlist:!0},{active:!1,current:!1,key:"favorite",label:"Favorite",type:"sort"},{active:!0,current:!1,key:"categories",label:"Categories",type:"sort"},{active:!1,current:!1,key:"isNew",label:"New books",type:"sort",excludeFromWishlist:!0},{type:"divider",key:"divider4"},{active:!0,current:!1,key:"language",label:"Language",type:"sort"},{active:!0,current:!1,key:"format",label:"Format",type:"sort"},{active:!1,current:!1,key:"fromPlusCatalog",label:"From plus catalog",type:"sort"},{active:!1,current:!1,key:"unavailable",label:"Plus catalog: Unavailable",type:"sort"},{active:!1,current:!1,key:"downloaded",label:"Downloaded",type:"sort",excludeFromWishlist:!0},{type:"divider",key:"divider5"},{active:!1,current:!1,key:"storePageMissing",label:"Store page missing",type:"sort",tippy:"The original store page could not be found. There may be a new store page that replaced it."},{active:!1,current:!1,key:"storePageChanged",label:"Store page changed",type:"sort",tippy:"There is a store page that exists, but it is for a different version of the book."},{active:!1,current:!1,key:"isbn10",label:"Isbn 10",type:"sort",excludeFromWishlist:!0},{active:!1,current:!1,key:"isbn13",label:"Isbn 13",type:"sort",excludeFromWishlist:!0},{active:!0,current:!1,key:"bookNumbers",label:"Book Numbers",type:"sort",tippy:'<strong>This is only a simple number sort.</strong> <br> If you want the correct series order, as listed in Audible, check the series page in the top menu or the "my books in the series" button in book details. <br><br>Click any book cover (or row) to reveal book details. <br><br> The infinite symbol (∞) means the book is in a series but does not have a number.'}]};this.$setListRenderingOpts(t)}}};var d=r(411);r.n(d)().polyfill();const p={name:"aleGallery",components:{aleSearch:i.Z,aleGridView:function(){return r.e(577).then(r.bind(r,9918))},aleListView:function(){return r.e(901).then(r.bind(r,6088))}},mixins:[u.Z,n,o,s,l,c.Z,g],data:function(){return{collectionSource:"library.books",pageTitle:null,pageSubTitle:null}},beforeCreate:function(){this.$route.query.view&&this.$store.commit("stickyProp",{key:"viewMode",value:this.$route.query.view})},created:function(){this.updateListRenderingOptions(),this.prepCategoriesSubPage(),this.prepCollectionsSubPage(),this.prepSeriesSubPage(),this.prepWishlist()}},y=(0,r(810).Z)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"ale-gallery","data-audio-player-visible":e.$store.state.audioPlayerVisible}},[e.pageTitle||e.pageSubTitle?r("div",{staticClass:"gallery-title-wrapper"},[e.pageTitle?r("h2",{staticClass:"gallery-title"},[e._v("\n      "+e._s(e.pageTitle)+"\n    ")]):e._e(),e._v(" "),r("div",{staticClass:"divider"}),e._v(" "),e.pageSubTitle?r("h3",{staticClass:"gallery-sub-title"},[e._v("\n      "+e._s(e.pageSubTitle)+"\n    ")]):e._e()]):e._e(),e._v(" "),r("ale-search",{attrs:{collectionSource:e.collectionSource}}),e._v(" "),e.$store.getters.collection&&e.$store.getters.collection.length>0?r("div",["grid"===e.$store.state.sticky.viewMode?r("ale-grid-view"):"spreadsheet"===e.$store.state.sticky.viewMode?r("ale-list-view"):e._e()],1):e._e()],1)}),[],!1,null,"3aacfa50",null).exports}}]);