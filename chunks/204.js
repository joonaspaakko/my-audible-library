(self.webpackChunk=self.webpackChunk||[]).push([[204],{7916:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>n}),e(3938),e(1013),e(8217);const i={name:"aleBackground",mixins:[e(6495).Z],data:function(){return{books:null,booksLength:null,windowWidth:null,timer1:null,timer2:null}},mounted:function(){this.windowWidth=window.innerWidth,this.books=this.getBooks(),this.flipAnimationRandomizer(),this.$root.$on("afterWindowResize",this.onWindowResize)},beforeDestroyed:function(){this.$root.$off("afterWindowResize",this.onWindowResize),clearInterval(this.timer1),clearInterval(this.timer2)},methods:{getBooks:function(){function t(t){return 6*t}var o=t(15);this.windowWidth<530?o=t(5):this.windowWidth<760?o=t(6):this.windowWidth<1e3?o=t(8):this.windowWidth<1300&&(o=t(12));var e=function(t){var e=t.length;if(e<=o){for(var i=Math.floor(o/e),n=o-e*i,r=i,s=[],a=0;a<r;a++)s=s.concat(t);return n>0&&(s=s.concat(t.splice(-1,n))),s}return _.sampleSize(t,o)}(this.$store.state.library.books);return e=_.map(e,(function(t){var o=_.pick(t,["cover"]);return o.flipOut=!1,o})),this.booksLength=e.length,e},flipAnimationRandomizer:function(){var t=this;clearInterval(t.timer1),clearInterval(t.timer2),t.timer1=setInterval((function(){t.coverSwitcheroo()}),t.randomNumber(1500,3e3)),t.timer2=setInterval((function(){t.coverSwitcheroo()}),t.randomNumber(3500,5e3))},coverSwitcheroo:function(){var t=this,o=this.randomNumber(0,this.booksLength-1),e=this.books[o];e.flipOut=!0,setTimeout((function(){var o=t.randomNumber(0,t.$store.state.library.books.length-1),i=t.$store.state.library.books[o];e.cover=i.cover,e.flipOut=!1}),850)},randomNumber:function(t,o){return Math.floor(Math.random()*(o-t+1)+t)},onWindowResize:function(t){t.widthChanged&&(this.windowWidth=t.width,this.books=this.getBooks())}}},n=(0,e(810).Z)(i,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.books?e("div",{attrs:{id:"ale-background"}},t._l(t.books,(function(o,i){return e("img",{key:o.cover+i,class:{"flip-out":o.flipOut},attrs:{src:t.makeCoverUrl(o.cover,200),alt:""}})})),0):t._e()}),[],!1,null,"3c158641",null).exports}}]);